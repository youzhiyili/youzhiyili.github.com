---
layout:  post
title:  Ubuntu变更用户名及主目录
---
1 修改用户名

	usermod -l new_username -d /home/new_username -m old_username

	用usermod命令来修改用户帐户相关信息

	-l指定新的登录名称,-d指定新的主目录

	如果同时指定-m选项则移动原来用户主目录的内容到新的用户住目录,最后指定原来的登录用户名。

2 修改组名

	groupmod -n new_username old_username

	groupmod命令用来修改组相关信息，-n用来指定新的组名，用原来的组名作为参数。

3 更改用户的全称

	chfn -f new_fullname new_username

	chfn命令来修改真实的用户名称和其他相关信息

	-f指定新的用户全称,需要修改全称的用户名作为参数

4 其他修改

	更改用户主目录后,有些依赖于绝对路径的程序需要进行相应的修改

	firefox profile路径下的extensions.ini里面的有依赖于用户名的绝对路径，修改之

	用vim打开，然后:%s/old_username/new_username/g，然后:wq即可

	prefs.js里面做同样的处理，firefox就可以正常使用了